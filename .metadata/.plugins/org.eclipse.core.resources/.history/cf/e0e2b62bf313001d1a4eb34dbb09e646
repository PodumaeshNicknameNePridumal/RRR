#include <gui/racescreen_screen/RaceScreenView.hpp>

RaceScreenView::RaceScreenView()
{

}

void RaceScreenView::setupScreen()
{
    RaceScreenViewBase::setupScreen();
    counter = 0;
    carX = car.getX();
    carY = car.getY();
    moveDirection = 2;

}

void RaceScreenView::tearDownScreen()
{
    RaceScreenViewBase::tearDownScreen();
}
// moveDirection 1 - вверх,2 - вверх и вправо, 3 - вправо, 4 - вправо и вниз и т.д.
void RaceScreenView::handleTickEvent() {
	if (carX == 0) {
		if (moveDirection ==  8) {
		moveDirection = 2;
		} else if (moveDirection == 6) {
		moveDirection = 4;
		}
	}
	if (carX == 200) {
		if (moveDirection == 2) {
			moveDirection = 8;
		} else if (moveDirection == 4) {
			moveDirection = 6;
		}
	}
	if (carY == 0) {
		if(moveDirection == 2) moveDirection == 4;
	}


		carX++;
		carY--;
	car.startMoveAnimation(carX, carY, 45);

}
